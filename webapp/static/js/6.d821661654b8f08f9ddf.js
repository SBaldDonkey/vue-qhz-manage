webpackJsonp([6],{"0TRW":function(n,e,t){e=n.exports=t("I71c")(!0),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"position.vue",sourceRoot:""}])},BUzF:function(n,e,t){"use strict";function s(n){t("uNBP")}Object.defineProperty(e,"__esModule",{value:!0});var i=t("aA9S"),a=t.n(i),o={data:function(){return{dialogVisible:!1,department:"",editLoading:!1,listLoading:!0,dialogFormVisible:!1,form:{sjId:"",sjName:"",sjShortName:""},tableData:[{sjId:"111",sjName:"111",sjShortName:"1111"}]}},mounted:function(){this.resetStu(),this.rqList()},methods:{rqList:function(){var n=this;this.$fetch("/permissions/position",{page:1,rows:30}).then(function(e){n.listLoading=!1,n.tableData=e.rows})},editor:function(n,e){this.dialogFormVisible=!0,this.form=a()({},e),this.table_index=n},cancel:function(){this.dialogVisible=!1,this.dialogFormVisible=!1,this.resetStu()},addSeave:function(){var n=this;""===this.form.sjName?this.$message({message:"职位名称不能为空！",type:"warning"}):""===this.form.sjShortName?this.$message({message:"职位简称不能为空！",type:"warning"}):(this.editLoading=!0,this.$fetch("/permissions/position/save",{sjName:this.form.sjName,sjShortName:this.form.sjShortName}).then(function(e){200===e.status?(n.editLoading=!1,n.dialogFormVisible=!1,n.rqList(),n.$message({message:"角色添加成功！",type:"success"}),n.editLoading=!1,n.dialogVisible=!1):(n.$message({message:"角色添加失败！",type:"warning"}),n.rqList())}),this.resetStu())},handleSave:function(){var n=this;""===this.form.sjName?this.$message({message:"职位名称不能为空！",type:"warning"}):""===this.form.sjShortName?this.$message({message:"职位简称不能为空！",type:"warning"}):this.$confirm("确认提交吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"cancel"}).then(function(){n.editLoading=!0,n.listLoading=!0,n.$fetch("/permissions/position/update",{sjId:n.form.sjId,sjName:n.form.sjName,sjShortName:n.form.sjShortName}).then(function(e){200===e.status?(n.rqList(),n.listLoading=!1,n.editLoading=!1,n.dialogFormVisible=!1,n.$message({message:"操作成功！",type:"success"})):n.$message({message:e.msg,type:"warning"})}),n.resetStu()}).catch(function(){})},handleDelete:function(n,e){var t=this;this.$confirm("确认删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$fetch("/permissions/position/delete",{sjId:e.sjId}).then(function(e){200===e.status?(t.tableData.splice(n,1),t.$message({message:"操作成功！",type:"success"})):t.$message({message:e.msg,type:"warning"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetStu:function(){this.form={sjId:"",sjName:"",sjShortName:""}},closeDialog:function(n){this.resetStu(),n()}}},l=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",{staticClass:"overh"},[t("div",{staticClass:"warp-breadcrum warp-top"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[n._v("首页")]),n._v(" "),n._l(this.$route.matched,function(e){return t("el-breadcrumb-item",{key:e.index},[n._v(n._s(e.name))])})],2)],1),n._v(" "),t("div",{staticClass:"warp-operation warp-top"},[t("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-circle-plus-outline"},on:{click:function(e){n.dialogVisible=!0}}},[n._v("新 增")])],1),n._v(" "),t("el-col",{staticClass:"warp-container"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],ref:"multipleTable",staticClass:"qhz-table",staticStyle:{width:"100%"},attrs:{data:n.tableData,"tooltip-effect":"dark"}},[t("el-table-column",{attrs:{prop:"sjId",label:"ID",width:"60"}}),n._v(" "),t("el-table-column",{attrs:{prop:"sjName",label:"职位名称",width:"120"}}),n._v(" "),t("el-table-column",{attrs:{prop:"sjShortName",label:"职位简称","show-overflow-tooltip":""}}),n._v(" "),t("el-table-column",{attrs:{prop:"tag",width:"200",label:"","filter-placement":"bottom-end"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){n.editor(e.$index,e.row)}}},[n._v("修 改")]),n._v(" "),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){n.handleDelete(e.$index,e.row)}}},[n._v("删 除")])]}}])})],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"新 增",visible:n.dialogVisible,size:"tiny","before-close":n.closeDialog},on:{"update:visible":function(e){n.dialogVisible=e}}},[t("el-form",{ref:"editorForm",attrs:{model:n.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"职位名称"}},[t("el-input",{model:{value:n.form.sjName,callback:function(e){n.$set(n.form,"sjName",e)},expression:"form.sjName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"职位简称"}},[t("el-input",{model:{value:n.form.sjShortName,callback:function(e){n.$set(n.form,"sjShortName",e)},expression:"form.sjShortName"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:n.editLoading},on:{click:function(e){n.addSeave()}}},[n._v("新 增")]),n._v(" "),t("el-button",{on:{click:n.cancel}},[n._v("取 消")])],1)],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"编 辑",visible:n.dialogFormVisible,size:"tiny","before-close":n.closeDialog},on:{"update:visible":function(e){n.dialogFormVisible=e}}},[t("el-form",{ref:"editorForm",attrs:{model:n.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"职位名称"}},[t("el-input",{model:{value:n.form.sjName,callback:function(e){n.$set(n.form,"sjName",e)},expression:"form.sjName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"职位简称"}},[t("el-input",{model:{value:n.form.sjShortName,callback:function(e){n.$set(n.form,"sjShortName",e)},expression:"form.sjShortName"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:n.editLoading},on:{click:function(e){n.handleSave()}}},[n._v("修改")]),n._v(" "),t("el-button",{on:{click:n.cancel}},[n._v("取消")])],1)],1)],1)],1)},r=[],m={render:l,staticRenderFns:r},c=m,d=t("X4nt"),u=s,f=d(o,c,!1,u,null,null);e.default=f.exports},uNBP:function(n,e,t){var s=t("0TRW");"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);t("5ten")("60da44ea",s,!0,{})}});
//# sourceMappingURL=6.d821661654b8f08f9ddf.js.map