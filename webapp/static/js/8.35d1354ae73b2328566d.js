webpackJsonp([8],{AxWK:function(n,e,t){"use strict";function a(n){t("tqIo")}Object.defineProperty(e,"__esModule",{value:!0});var i=t("aA9S"),s=t.n(i),o={data:function(){return{addBrand:!1,editorWindow:!1,department:"",listLoading:!0,editLoading:!1,brandName:"",searchForm:{brandName:""},form:{brand:"",id:""},tableData:[]}},mounted:function(){this.rqList()},methods:{rqList:function(){var n=this;this.$fetch("/system/findBrand",{page:1,rows:10}).then(function(e){e?(n.tableData=e.rows,n.listLoading=!1):n.$message({message:e.msg,type:"warning"})})},searchSub:function(){var n=this;this.listLoading=!0,this.$fetch("/system/searchBrandByOwn",{brand:this.searchForm.brandName,page:1,rows:30}).then(function(e){e&&(n.tableData=e.rows,n.listLoading=!1)})},cancel:function(){this.addBrand=!1,this.editorWindow=!1,this.resetStu()},editor:function(n,e){this.editorWindow=!0,this.form=s()({},e),this.table_index=n},handleDelete:function(n,e){var t=this;this.$confirm("确认删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.editLoading=!0,t.$fetch("/system/deleteBrand",{id:e.id}).then(function(e){200===e.status?(t.editLoading=!1,t.tableData.splice(n,1),t.$message({message:"操作成功！",type:"success"})):t.$message({message:e.msg,type:"warning"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},addSeave:function(){var n=this;if(""===this.form.brand)this.$message({message:"品牌名称不能为空！",type:"warning"});else{this.editLoading=!0;var e={brand:this.form.brand};this.$fetch("/system/saveBrand",{brand:this.form.brand}).then(function(t){200===t.status?(n.tableData.push(e),n.editLoading=!1,n.rqList(),n.addBrand=!1,n.$message({message:"操作成功！",type:"success"}),n.resetStu()):n.$message({message:t.msg,type:"warning"})})}},handleSave:function(){var n=this;""===this.form.name?this.$message({message:"品牌名称不能为空！",type:"warning"}):this.$confirm("确认提交吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"cancel"}).then(function(){n.editLoading=!0,n.$fetch("/system/updateBrand",{brand:n.form.brand,id:n.form.id}).then(function(e){200===e.status?(n.tableData.splice(n.table_index,1,n.form),n.editLoading=!1,n.$message({message:"操作成功！",type:"success"}),n.rqList(),n.editorWindow=!1,n.resetStu()):n.$message({message:e.msg,type:"warning"})})}).catch(function(){})},resetStu:function(){this.form={brand:"",id:""}},closeDialog:function(n){this.resetStu(),n()}}},r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",{staticClass:"overh"},[t("div",{staticClass:"warp-breadcrum warp-top"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[n._v("首页")]),n._v(" "),n._l(this.$route.matched,function(e){return t("el-breadcrumb-item",{key:e.index},[n._v(n._s(e.name))])})],2)],1),n._v(" "),t("div",{staticClass:"warp-operation warp-top"},[t("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-circle-plus-outline"},on:{click:function(e){n.addBrand=!0}}},[n._v("新 增")])],1),n._v(" "),t("div",{staticClass:"warp-operation warp-top"},[t("el-form",{ref:"searchForm",attrs:{inline:!0,model:n.searchForm}},[t("el-form-item",{attrs:{label:"品牌名称"}},[t("el-input",{attrs:{placeholder:"请输入品牌名称"},model:{value:n.searchForm.brandName,callback:function(e){n.$set(n.searchForm,"brandName",e)},expression:"searchForm.brandName"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-search"},on:{click:n.searchSub}},[n._v("搜 索")])],1)],1)],1),n._v(" "),t("el-col",{staticClass:"warp-container"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],ref:"multipleTable",staticClass:"q vhz-table",staticStyle:{width:"100%"},attrs:{data:n.tableData,"tooltip-effect":"dark"}},[t("el-table-column",{attrs:{prop:"id",label:"品牌ID",width:"100"}}),n._v(" "),t("el-table-column",{attrs:{prop:"brand",label:"品牌名称",width:"200"}}),n._v(" "),t("el-table-column",{attrs:{prop:"tag",label:"操 作","filter-placement":"bottom-end"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){n.editor(e.$index,e.row)}}},[n._v("编 辑")]),n._v(" "),t("el-button",{attrs:{type:"danger",size:"mini",loading:n.editLoading},on:{click:function(t){n.handleDelete(e.$index,e.row)}}},[n._v("删 除")])]}}])})],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"新 增",visible:n.addBrand,width:"30%","before-close":n.closeDialog},on:{"update:visible":function(e){n.addBrand=e}}},[t("el-form",{ref:"addForm",attrs:{model:n.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"品牌名称"}},[t("el-input",{model:{value:n.form.brand,callback:function(e){n.$set(n.form,"brand",e)},expression:"form.brand"}})],1)],1),n._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:n.cancel}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary",loading:n.editLoading},on:{click:function(e){n.addSeave()}}},[n._v("确 定")])],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"编 辑",visible:n.editorWindow,size:"tiny","before-close":n.closeDialog},on:{"update:visible":function(e){n.editorWindow=e}}},[t("el-form",{ref:"editorForm",attrs:{model:n.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"品牌名称"}},[t("el-input",{model:{value:n.form.brand,callback:function(e){n.$set(n.form,"brand",e)},expression:"form.brand"}})],1),n._v(" "),t("el-form-item",[t("el-input",{attrs:{type:"hidden"},model:{value:n.form.id,callback:function(e){n.$set(n.form,"id",e)},expression:"form.id"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:n.editLoading},on:{click:function(e){n.handleSave()}}},[n._v("修改")]),n._v(" "),t("el-button",{on:{click:n.cancel}},[n._v("取消")])],1)],1)],1)],1)},l=[],d={render:r,staticRenderFns:l},c=d,m=t("X4nt"),u=a,f=m(o,c,!1,u,null,null);e.default=f.exports},oyg8:function(n,e,t){e=n.exports=t("I71c")(!0),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"brand.vue",sourceRoot:""}])},tqIo:function(n,e,t){var a=t("oyg8");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("5ten")("740e9d60",a,!0,{})}});
//# sourceMappingURL=8.35d1354ae73b2328566d.js.map