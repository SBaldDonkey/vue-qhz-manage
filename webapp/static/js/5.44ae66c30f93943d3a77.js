webpackJsonp([5],{"+YdS":function(n,e,t){"use strict";function s(n){t("mvIN")}Object.defineProperty(e,"__esModule",{value:!0});var i=t("aA9S"),a=t.n(i),o={data:function(){return{dialogVisible:!1,department:"",listLoading:!0,editLoading:!1,tableData:[{sdId:"11",sdName:"11",sdShortName:"111"}],form:{sdId:"",sdName:"",sdShortName:""}}},mounted:function(){this.resetStu(),this.rqList()},methods:{rqList:function(){var n=this;this.$fetch("/permissions/department",{page:1,rows:30}).then(function(e){e&&(n.tableData=e.rows,n.listLoading=!1)})},editor:function(n,e){this.dialogFormVisible=!0,this.form=a()({},e),this.table_index=n},handleSave:function(){var n=this;""===this.form.sdName?this.$message({message:"职位名称不能为空！",type:"warning"}):""===this.form.sdShortName?this.$message({message:"职位简称不能为空！",type:"warning"}):this.$confirm("确认提交吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"cancel"}).then(function(){n.editLoading=!0,n.listLoading=!0,n.$fetch("/permissions/department/update",{sdId:n.form.sdId,sdName:n.form.sdName,sdShortName:n.form.sdShortName}).then(function(e){200===e.status?(n.rqList(),n.listLoading=!1,n.editLoading=!1,n.dialogFormVisible=!1,n.$message({message:"操作成功！",type:"success"})):n.$message({message:e.msg,type:"warning"})}),n.resetStu()}).catch(function(){})},addSeave:function(){var n=this;""===this.form.sdName?this.$message({message:"职位名称不能为空！",type:"warning"}):""===this.form.sdShortName?this.$message({message:"职位简称不能为空！",type:"warning"}):(this.editLoading=!0,this.$fetch("/permissions/department/save",{sdName:this.form.sdName,sdShortName:this.form.sdShortName}).then(function(e){200===e.status?(n.rqList(),n.$message({message:"角色添加成功！",type:"success"}),n.editLoading=!1,n.dialogVisible=!1):(n.$message({message:"角色添加失败！",type:"warning"}),n.rqList())}),this.resetStu())},handleDelete:function(n,e){var t=this;this.$confirm("确认删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$fetch("/permissions/department/delete",{sdId:e.sdId}).then(function(e){200===e.status?(t.tableData.splice(n,1),t.$message({message:"操作成功！",type:"success"})):t.$message({message:e.msg,type:"warning"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetStu:function(){this.form={sjId:"",sjName:"",sjShortName:""}},closeDialog:function(n){this.resetStu(),n()},cancel:function(){this.dialogVisible=!1,this.dialogFormVisible=!1,this.resetStu()}}},r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",{staticClass:"overh"},[t("div",{staticClass:"warp-breadcrum warp-top"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[n._v("首页")]),n._v(" "),n._l(this.$route.matched,function(e){return t("el-breadcrumb-item",{key:e.index},[n._v(n._s(e.name))])})],2)],1),n._v(" "),t("div",{staticClass:"warp-operation warp-top"},[t("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-circle-plus-outline"},on:{click:function(e){n.dialogVisible=!0}}},[n._v("新 增")])],1),n._v(" "),t("el-col",{staticClass:"warp-container"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],ref:"multipleTable",staticClass:"qhz-table",staticStyle:{width:"100%"},attrs:{data:n.tableData,"tooltip-effect":"dark"}},[t("el-table-column",{attrs:{prop:"sdId",label:"I D",width:"60"}}),n._v(" "),t("el-table-column",{attrs:{prop:"sdName",label:"部 门",width:"120"}}),n._v(" "),t("el-table-column",{attrs:{prop:"sdShortName",label:"部门简称","show-overflow-tooltip":""}}),n._v(" "),t("el-table-column",{attrs:{prop:"tag",width:"200",label:"","filter-placement":"bottom-end"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){n.editor(e.$index,e.row)}}},[n._v("修 改")]),n._v(" "),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){n.handleDelete(e.$index,e.row)}}},[n._v("删 除")])]}}])})],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"新 增",visible:n.dialogVisible,size:"tiny","before-close":n.closeDialog},on:{"update:visible":function(e){n.dialogVisible=e}}},[t("el-form",{ref:"editorForm",attrs:{model:n.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"部 门"}},[t("el-input",{model:{value:n.form.sdName,callback:function(e){n.$set(n.form,"sdName",e)},expression:"form.sdName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"部门简称"}},[t("el-input",{model:{value:n.form.sdShortName,callback:function(e){n.$set(n.form,"sdShortName",e)},expression:"form.sdShortName"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:n.editLoading},on:{click:function(e){n.addSeave()}}},[n._v("新 增")]),n._v(" "),t("el-button",{on:{click:n.cancel}},[n._v("取 消")])],1)],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"编 辑",visible:n.dialogFormVisible,size:"tiny","before-close":n.closeDialog},on:{"update:visible":function(e){n.dialogFormVisible=e}}},[t("el-form",{ref:"editorForm",attrs:{model:n.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"部 门"}},[t("el-input",{model:{value:n.form.sdName,callback:function(e){n.$set(n.form,"sdName",e)},expression:"form.sdName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"部门简称"}},[t("el-input",{model:{value:n.form.sdShortName,callback:function(e){n.$set(n.form,"sdShortName",e)},expression:"form.sdShortName"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:n.editLoading},on:{click:function(e){n.handleSave()}}},[n._v("修改")]),n._v(" "),t("el-button",{on:{click:n.cancel}},[n._v("取消")])],1)],1)],1)],1)},l=[],m={render:r,staticRenderFns:l},d=m,c=t("X4nt"),u=s,f=c(o,d,!1,u,null,null);e.default=f.exports},mjBE:function(n,e,t){e=n.exports=t("I71c")(!0),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"department.vue",sourceRoot:""}])},mvIN:function(n,e,t){var s=t("mjBE");"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);t("5ten")("fd9f695c",s,!0,{})}});
//# sourceMappingURL=5.44ae66c30f93943d3a77.js.map