webpackJsonp([4],{"0C5w":function(n,e,t){"use strict";function s(n){t("vV+N")}Object.defineProperty(e,"__esModule",{value:!0});var i=t("aA9S"),a=t.n(i),o={data:function(){return{dialogVisible:!1,department:"",listLoading:!0,dialogFormVisible:!1,editLoading:!1,form:{srId:"",srName:"",srShortName:""},tableData:[{srId:"1",srName:"111",srShortName:"111"}]}},mounted:function(){this.resetStu(),this.rqList()},methods:{rqList:function(){var n=this;this.$fetch("/permissions/role",{page:1,rows:30}).then(function(e){n.listLoading=!1,n.tableData=e.rows})},editor:function(n,e){this.dialogFormVisible=!0,this.form=a()({},e),this.table_index=n},handleEdit:function(n,e){this.dialogFormVisible=!0,this.form=a()({},e),this.table_index=n},cancel:function(){this.dialogVisible=!1,this.dialogFormVisible=!1,this.resetStu()},handleSave:function(){var n=this;""===this.form.srName?this.$message({message:"角色名称不能为空！",type:"warning"}):""===this.form.srShortName?this.$message({message:"角色简称不能为空！",type:"warning"}):this.$confirm("确认提交吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"cancel"}).then(function(){n.editLoading=!0,n.$fetch("/permissions/role/update",{srId:n.tableData.srId,srName:n.form.srName,srShortName:n.form.srShortName}).then(function(e){200===e.status?(n.rqList(),n.editLoading=!1,n.dialogFormVisible=!1,n.$message({message:"操作成功！",type:"success"})):(n.rqList(),n.$message({message:e.msg,type:"warning"}))}),n.resetStu()}).catch(function(){})},handleDelete:function(n,e){var t=this;this.$confirm("确认删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$fetch("/permissions/role/delete",{srId:e.srId}).then(function(e){200===e.status?(t.tableData.splice(n,1),t.$message({message:"操作成功！",type:"success"})):t.$message({message:e.msg,type:"warning"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},addSeave:function(){var n=this;""===this.form.srName?this.$message({message:"角色名称不能为空！",type:"warning"}):""===this.form.srShortName?this.$message({message:"角色简称不能为空！",type:"warning"}):(this.editLoading=!0,this.$fetch("/permissions/role/save",{srName:this.form.srName,srShortName:this.form.srShortName}).then(function(e){n.editLoading=!1,n.dialogFormVisible=!1,200===e.status?(n.rqList(),n.$message({message:"角色添加成功！",type:"success"}),n.editLoading=!1,n.dialogVisible=!1):(n.rqList(),n.$message({message:"角色添加失败！",type:"warning"}))}),this.resetStu())},resetStu:function(){this.form={srId:"",srName:"",srShortName:""}},closeDialog:function(n){this.resetStu(),n()}}},r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",{staticClass:"overh"},[t("div",{staticClass:"warp-breadcrum warp-top"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[n._v("首页")]),n._v(" "),n._l(this.$route.matched,function(e){return t("el-breadcrumb-item",{key:e.index},[n._v(n._s(e.name))])})],2)],1),n._v(" "),t("div",{staticClass:"warp-operation warp-top"},[t("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-circle-plus-outline"},on:{click:function(e){n.dialogVisible=!0}}},[n._v("新 增")])],1),n._v(" "),t("el-col",{staticClass:"warp-container"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],ref:"multipleTable",staticClass:"qhz-table",staticStyle:{width:"100%"},attrs:{data:n.tableData,"tooltip-effect":"dark"}},[t("el-table-column",{attrs:{prop:"srId",label:"ID",width:"60"}}),n._v(" "),t("el-table-column",{attrs:{prop:"srName",label:"角色名称",width:"120"}}),n._v(" "),t("el-table-column",{attrs:{prop:"srShortName",label:"角色简称"}}),n._v(" "),t("el-table-column",{attrs:{prop:"tag",width:"280",label:"","filter-placement":"bottom-end"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){n.editor(e.$index,e.row)}}},[n._v("编 辑")]),n._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"}},[n._v("修改权限")]),n._v(" "),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){n.handleDelete(e.$index,e.row)}}},[n._v("删 除")])]}}])})],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"新增",visible:n.dialogVisible,width:"30%","before-close":n.closeDialog},on:{"update:visible":function(e){n.dialogVisible=e}}},[t("el-form",{ref:"addForm",attrs:{model:n.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"角色名称"}},[t("el-input",{model:{value:n.form.srName,callback:function(e){n.$set(n.form,"srName",e)},expression:"form.srName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"角色简称"}},[t("el-input",{model:{value:n.form.srShortName,callback:function(e){n.$set(n.form,"srShortName",e)},expression:"form.srShortName"}})],1)],1),n._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:n.cancel}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary",loading:n.editLoading},on:{click:function(e){n.addSeave()}}},[n._v("确 定")])],1)],1),n._v(" "),t("el-dialog",{attrs:{title:"编辑",visible:n.dialogFormVisible,"before-close":n.closeDialog,size:"tiny"},on:{"update:visible":function(e){n.dialogFormVisible=e}}},[t("el-form",{ref:"editorForm",attrs:{model:n.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"角色名称"}},[t("el-input",{model:{value:n.form.srName,callback:function(e){n.$set(n.form,"srName",e)},expression:"form.srName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"角色简称"}},[t("el-input",{model:{value:n.form.srShortName,callback:function(e){n.$set(n.form,"srShortName",e)},expression:"form.srShortName"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:n.editLoading},on:{click:function(e){n.handleSave()}}},[n._v("修改")]),n._v(" "),t("el-button",{on:{click:n.cancel}},[n._v("取消")])],1)],1)],1)],1)},l=[],m={render:r,staticRenderFns:l},c=m,d=t("X4nt"),u=s,f=d(o,c,!1,u,null,null);e.default=f.exports},"7BOO":function(n,e,t){e=n.exports=t("I71c")(!0),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"role.vue",sourceRoot:""}])},"vV+N":function(n,e,t){var s=t("7BOO");"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);t("5ten")("a679e986",s,!0,{})}});
//# sourceMappingURL=4.e91cf53a009d79c019a0.js.map